<!doctype html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <link rel='stylesheet' href='../../css/font-awesome.min.css'>
  <link rel='stylesheet' href='../../css/bootstrap.zentao.css'>
  <link rel='stylesheet' href='css/style.css'>
  <!--[if lt IE 9]>
  <script src='../../js/html5shiv.min.js?v=' type='text/javascript'></script>
  <script src='../../js/respond.min.js?v=' type='text/javascript'></script>
  <![endif]-->
  <title>蝉知企业内部门户</title>
</head>
<body>

  <!-- Desktop -->
  <div id='desktop'  unselectable="on" style="-moz-user-select:none;-webkit-user-select:none;" onselectstart="return false;">
    <div id='leftBar' class='dock-left'>
      <div id='apps-menu'>
        <ul class='bar-menu'>
          <li><a href='###' class='app-btn app-btn-ajax' title='禅道项目管理'><img src='img/app-1.png' alt=''></a></li>
          <li><a href='###' class='app-btn app-btn-ajax' title='蝉知企业门户'><img src='img/app-2.png' alt=''></a></li>
        </ul>
      </div>
      <div class='dock-bottom'>
        <div id='apps-actions'>
          <ul class='bar-menu'>
            <li><a href='###' id='allAppsBtn' title='所有应用'><i class='icon-th-list'></i></a></li>
            <li><a href='###' id='addAppBtn' class='app-btn' title='添加应用'><i class='icon-plus-sign'></i></a></li>
          </ul>
        </div>
        <div id='avatar' title='查看个人信息'>
          <img class='avatar-img' src='img/avatar.jpg' alt=''>
          <div class='avatar-name'>Catouse</div>
        </div>        
      </div>
    </div>
    <div id='bottomBar' class='dock-bottom'>
      <div id='systemMenu'>
        <ul class='bar-menu'>
          <li><a href='###' class='app-btn app-btn-ajax' title='系统配置'><i class='icon-cog icon-large'></i></a></li>
          <li><a href='###' class='app-btn app-btn-ajax' title='更换主题'><i class='icon-dashboard icon-large'></i></a></li>
        </ul>
      </div>
      <div id='taskbar'>
        <ul class='bar-menu'>
          <li class='active'><button class='app-btn'><i class='icon-list-alt'></i> 蝉知企业门户</button></li>
          <li><button href='###' class='app-btn'><i class='icon-list-alt'></i> 禅道项目管理</button></li>
        </ul>
      </div>
    </div>
    <div id='allApps' class='hide'>
      <div class='all-apps-panel'>
        <div class='all-apps-head'>
          <div class='row'>
            <div class='col-md-1'>
              <a href='###' id='closeAllApps'><i class='icon-circle-arrow-left'></i></a>
            </div>
            <div class='col-md-3'>
              <h4>
              <i class='icon-th-list'></i> 所有应用 &nbsp;<small class='muted'>共 20 款应用</small></h4>
            </div>
            <div class='col-md-4'>
              <div class='input-group'>
                <input type='text' class='form-control-clear form-control'>
                <span class='input-group-btn'>
                  <button class='btn btn-clear' type='button'><i class='icon-search'></i></button>
                </span>
              </div>
            </div>
            <div class='col-md-4 text-right'>
              <button class='btn btn-clear'><i class='icon-plus'></i> 添加应用</button>
            </div>
          </div>        
        </div>
        <div class='all-apps-list'>
          <ul class='bar-menu'>
            <li class='active' title='已激活'>
              <a href='###' class='app-btn'>
                <img src='img/app-1.png' alt=''>
                禅道项目管理系统
              </a>
            </li>
            <li>
              <a href='###' class='app-btn'>
                <img src='img/app-2.png' alt=''>
                蝉知企业门户系统
              </a>
            </li>
            <li>
              <a href='###' class='app-btn'>
                <img src='img/app-1.png' alt=''>
                禅道项目管理系统
              </a>
            </li>
            <li>
              <a href='###' class='app-btn'>
                <img src='img/app-1.png' alt=''>
                禅道项目管理系统
              </a>
            </li>
            <li>
              <a href='###' class='app-btn'>
                <img src='img/app-1.png' alt=''>
                禅道项目管理系统
              </a>
            </li>
            <li>
              <a href='###' class='app-btn'>
                <img src='img/app-1.png' alt=''>
                禅道项目管理系统
              </a>
            </li>
            <li>
              <a href='###' class='app-btn'>
                <img src='img/avatar.jpg' alt=''>
                Catouse
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div id='deskContainer'>
      <div id='win-111111' class='window window-loading movable' style='width:400px;height:300px;left:130px;top:30px;z-index:102;'>
        <div class='window-head'>
          <img src='img/app-1.png' alt=''>
          <strong>禅道项目管理</strong>
          <ul>
            <li><button class='reload-win'><i class='icon-repeat'></i></button></li>
            <li><button class='min-win'><i class='icon-minus'></i></button></li>
            <li><button class='close-win'><i class='icon-remove'></i></button></li>
          </ul>
        </div>
        <div class='window-content'>
        </div>
      </div>
      <div id='win-211111' class='window window-iframe window-movable' style='width:500px;height:538px;left:560px;top:30px;z-index:101;'>
        <div class='window-head'>
          <img src='img/app-2.png' alt=''>
          <strong>蝉知企业门户</strong>
          <ul>
            <li><button class='reload-win'><i class='icon-repeat'></i></button></li>
            <li><button class='min-win'><i class='icon-minus'></i></button></li>
            <li><button class='close-win'><i class='icon-remove'></i></button></li>
          </ul>
        </div>
        <div class='window-content' style="height:500px">
          <iframe id='iframe-34323' name='iframe-34323' src='http://www.chanzhi.net/help-book-chanzhieps.html' frameborder='no' allowtransparency='true' scrolling='auto' hidefocus='' style='width: 100%; height: 100%; left: 0px;'></iframe>
        </div>
      </div>
      <div id='win-1342222' class='window window-active window-safeclose' style='width:800px;left:640px;top:140px;z-index:103;height:638px;'>
        <div class='window-head movable'>
          <img src='img/app-2.png' alt=''>
          <strong>窗口应用开发指南</strong>
          <ul>
            <li><button class='reload-win'><i class='icon-repeat'></i></button></li>
            <li><button class='min-win'><i class='icon-minus'></i></button></li>
            <li><button class='max-win'><i class='icon-resize-full'></i></button></li>
            <li><button class='close-win'><i class='icon-remove'></i></button></li>
          </ul>
        </div>
        <div class='window-content'>
          <div class='page-header'>
            <a href='###' class='btn btn-default pull-right max-win'><i class="icon-fullscreen"></i> 大窗口模式</a>
            <h3>窗口应用开发指南</h3>
          </div>
          <article>
            <h4>应用窗口</h4>
            <p>除了桌面、左侧菜单及底部任务栏，其他任何内容均会包含在应用窗口中呈现。
            </p>
            <p>一个应用可能包含多个应用窗口。</p>
            <p>所有窗口元素使用一个div并且添加类名 <code>.window</code> 。</p>
            <h5>组成部分</h5>
            <table class="table">
              <tr>
                <th style='width:80px;'>名称</th>
                <th>CSS类名</th>
                <th>说明</th>
              </tr>
              <tr>
                <td>窗口头部</td>
                <td><code>.window-head</code></td>
                <td>
                  <p>窗口头部通常包含以下内容：</p>
                  <ul>
                    <li><code>img</code>：应用图标图片</li>
                    <li><code>strong</code>：应用标题</li>
                    <li><code>ul>li*</code>：应用窗口按钮，包括重载（<code>button.reload-win</code>）、最小化（<code>button.min-win</code>）/（最大化（<code>button.max-win</code>））、关闭（<code>button.close-win</code>）。</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td>窗口内容</td>
                <td><code>.window-content</code></td>
                <td>窗口内容来加载html或者创建<code>iframe</code>。</td>
              </tr>
            </table>
            <h5>应用（窗口）类型</h5>
            <table class="table">
              <tr>
                <th>类型</th>
                <th>CSS 类名</th>
                <th>说明</th>
              </tr>
              <tr>
                <td>html 窗口</td>
                <td>默认留空</td>
                <td>通过ajax请求html数据填充为窗口内容。</td>
              </tr>
              <tr>
                <td>iframe 窗口</td>
                <td><code>.window-iframe</code></td>
                <td>通过iframe加载网页填充为窗口内容。</td>
              </tr>
              <tr>
                <td>json data 窗口</td>
                <td><code>.window-json</code></td>
                <td>通过ajax请求json格式的规范数据格式化后填充为窗口内容。</td>
              </tr>
              <tr>
                <td>浏览器窗口</td>
                <td></td>
                <td>打开一个浏览器的新窗口显示应用内容</td>
              </tr>
            </table>
            <h5>应用窗口状态</h5>
            <table class="table">
              <tr>
                <th>类型</th>
                <th>CSS 类名</th>
                <th>说明</th>
              </tr>
              <tr>
                <td>普通状态</td>
                <td>默认</td>
                <td>默认状态，显示在桌面没有激活的窗口，任务栏有图标快捷方式。</td>
              </tr>
              <tr>
                <td>激活状态</td>
                <td><code>.window-active</code></td>
                <td>为当前唯一激活的窗口。</td>
              </tr>
              <tr>
                <td>最小化</td>
                <td><code>.window-min</code></td>
                <td>不在桌面显示，但在任务栏出现图标快捷方式。不能与最大化状态叠加。</td>
              </tr>
              <tr>
                <td>最大化</td>
                <td><code>.window-max</code></td>
                <td>在桌面以最大化显示。不能与最小化和固定大小状态叠加。</td>
              </tr>
              <tr>
                <td>固定大小</td>
                <td><code>.window-fixed</code></td>
                <td>窗口大小固定，无法通过拖动边框来更改窗口大小。不能与最大化状态叠加。</td>
              </tr>
              <tr>
                <td>正在移动</td>
                <td><code>.window-moving</code></td>
                <td>窗口正在被用户通过鼠标拖动以改变窗口位置。</td>
              </tr>
              <tr>
                <td>正在加载</td>
                <td><code>.window-loading</code></td>
                <td>正在加载窗口内容。不能与“错误”状态叠加。</td>
              </tr>
              <tr>
                <td>错误</td>
                <td><code>.window-error</code></td>
                <td>发生了错误导致应用无法使用。不能与“正在加载状态叠加”。</td>
              </tr>
            </table>
            <h5>应用窗口示例</h5>
            <p>请参见本文档html源码。</p>
            <h4>窗口对象</h4>
            <p>通过构造一个<code>Windowx</code>对象来准备创建窗口到虚拟桌面。</p>
            <p>窗口对象成员如下：</p>
            <table class="table">
              <tr>
                <th colspan="4"><strong>属性</strong></th>
              </tr>
              <tr>
                <td><strong>appid</strong></td>
                <td>应用编号</td>
                <td>全局唯一的数字，必须指定</td>
                <td>每一个应用程序对应的唯一编号，通常由服务器提供。</td>
              </tr>
              <tr>
                <td>id</td>
                <td>窗口编号</td>
                <td>全局唯一的数字，运行时动态分配</td>
                <td>每一个应用窗口对应的编号。</td>
              </tr>
              <tr>
                <td>title</td>
                <td>应用窗口标题</td>
                <td>字符串</td>
                <td>当应用只有一个窗口时一般为应用名称</td>
              </tr>
              <tr>
                <td>type</td>
                <td>应用类型</td>
                <td><code>'html'</code>|<code>'iframe'</code>(默认)|<code>'json'</code></td>
                <td>应用类型</td>
              </tr>
              <tr>
                <td><strong>url</strong></td>
                <td>应用更新地址，必须指定</td>
                <td>url字符串</td>
                <td>当应用类型为<code>'html'</code>和<code>'json'</code>类型时，该地址为ajax请求地址，当应用类型为<code>'iframe'</code>时，该地址为iframe页面地址。</td>
              </tr>
              <tr>
                <td>display</td>
                <td>显示方式</td>
                <td><code>'normal</code>(默认) |<code>'fixed'</code>|<code>'max'</code>|<code>'fullscreen'</code>|<code>'module'</code></td>
                <td>
                  <ul>
                    <li><code>'normal'</code>：普通显示方式</li>
                    <li><code>'fixed'</code>：固定应用大小</li>
                    <li><code>'max'</code>：第一次显示采用最大化显示</li>
                    <li><code>'fullscreen'</code>：全屏显示，占用整个桌面区域，此方式仅允许官方使用。</li>
                    <li><code>'module'</code>：以模态窗口的形式显示在屏幕中央，并屏蔽桌面其他操作，此方式仅允许官方使用。</li>
                    <li><code>'gadget'</code>：以小工具的形式显示在桌面</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td>size</td>
                <td>应用窗口大小</td>
                <td><code>{width : 500, height : 438}</code></td>
                <td>初次显示的窗口大小，仅适用于<code>display='normal'</code>的应用</td>
              </tr>
              <tr>
                <td>position</td>
                <td>应用窗口位置</td>
                <td><code>'default'</code>(默认) | <code>'center'</code> | <code>{x, y}</code></td>
                <td>
                  <p>初次显示的窗口位置，以窗口左上角坐标为准，仅适用于<code>display='normal'</code>的应用</p>
                  <ul>
                    <li><code>'default'</code>：</li>
                    <li><code>'center'</code>：将窗口置于桌面中间</li>
                    <li><code>{x, y}</code>：指定窗口位置坐标</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td><em>zindex</em></td>
                <td>窗口层级</td>
                <td>该值运行时自动计算</td>
                <td>无需指定</td>
              </tr>
              <tr>
                <td>safeclose</td>
                <td>安全关闭</td>
                <td><code>true</code>|<code>false</code>(默认)</td>
                <td>当该值为true时，窗口关闭之前会弹出提示。</td>
              </tr>
              <tr>
                <td><em>iconimg</em></td>
                <td>应用图标图片</td>
                <td>该值运行时自动计算</td>
                <td>无需指定</td>
              </tr>
              <tr>
                <th colspan="4"><strong>方法</strong></th>
              </tr>
              <tr>
                <td>toHtml()</td>
                <td>输出窗口的初始html</td>
                <td></td>
                <td></td>
              </tr>
            </table>
          </article>
          
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src='../../js/jquery-1.9.1.min.js'></script>
  <script src='../../js/bootstrap.min.js'></script>
  <script src='js/script.js'></script>
</body>
</html>